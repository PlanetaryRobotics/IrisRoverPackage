<title>Camera Component Dictionary</title>
# Camera Component Dictionary


## Command List

|Mnemonic|ID|Description|Arg Name|Arg Type|Comment
|---|---|---|---|---|---|
|Get_Status|0 (0x0)|Get camera status| | |
|Take_Image|1 (0x1)|Take an Image| | |
| | | |camera_num|U8|
                        0: Camera 0     1: Camera 1
                    |
| | | |callback_id|U16|
                        Identifier which will be downlinked with the images from this command, allowing us to map which downlinked images related to which 'take photo' command
                    |
|Take_Image_Section|161 (0xa1)|Take a Full Image but only downlink a subset of the FileGroup Lines from memory (from start_line to end_line).| | |
| | | |camera_num|U8|
                        0: Camera 0     1: Camera 1
                    |
| | | |startLine|U16|
                		Line in full image memory to start downlinking. Inclusive (max is 1944). In memory space not pixel space. Indexed from 0.
                	|
| | | |endLine|U16|
                		Line in full image memory to stop downlinking. Exclusive (max is 1943). In memory space not pixel space. Indexed from 0.
                	|
| | | |callback_id|U16|
                        Identifier which will be downlinked with the images from this command, allowing us to map which downlinked images related to which 'take photo' command
                    |
|Error|2 (0x2)|Get camera status| | |
| | | |action|U8|
                        0x00: Clear Error     0xff: Read Error  !! Not sure how this is being used
                    |
|Configure_Camera0|3 (0x3)|Configure camera 0| | |
| | | |config|U64|
                        Packed bitfield containing camera configurations. TODO: Copy the bit fields from C&TL to here
                    |
|Camera0_Crop|4 (0x4)|Defines the crop for camera 0| | |
| | | |config|U64|
                        Packed bitfield containing crop locations. TODO: Copy bitfields from C&TL to here
                    |
|Configure_Camera1|5 (0x5)|Configure camera 1| | |
| | | |config|U64|
                        Packed bitfield containing camera configurations. TODO: Copy the bit fields from C&TL to here
                    |
|Camera1_Crop|6 (0x6)|Defines the crop for camera 1| | |
| | | |config|U64|
                        Packed bitfield containing crop locations. TODO: Copy bitfields from C&TL to here
                    |
|Read_Image|7 (0x7)|Downlink image generated by a sequence number| | |
| | | |callbackID|U16|
                        DRedownlink an image generated from the specified callbac
                    |
|Erase_Image|8 (0x8)|TBD| | |
|Soft_Camera_Reset|9 (0x9)|Does a soft reset of the camera (and something with the FPGA)| | |
| | | |cameraNum|U8|
                        Camera Number
                    |
|Image_Dump|10 (0xa)|Dump (downlink) whatever is stored in the the camera flash rn 
                without capturing a new image or writing anything to flash 
                first.| | |
|Downlink_Grid|11 (0xb)|Downlinks a test grid. If `viaFlash`, grid will be written to
                flash then read from flash and downlinked. Otherwise, it'll
                just be downlinked directly.| | |
| | | |viaFlash|bool|
                    Whether or not to write to flash and read from flash before
                    downlinking.
                    |
|Downlink_Test_Sequence|12 (0xc)|Downlinks a test image where every 4B are an incrementing U32.
                If `viaFlash`, grid will be written to flash then read from
                flash and downlinked. Otherwise, it'll just be downlinked
                directly.| | |
| | | |viaFlash|bool|
                    Whether or not to write to flash and read from flash before
                    downlinking.
                    |

## Telemetry Channel List

|Channel Name|ID|Type|Description|
|---|---|---|---|
|Cam_ComponentImagesRequested|0 (0x0)|U32|Number of images requested by other Fprime components|
|Cam_CommandImagesRequested|1 (0x1)|U32|Number of images commanded from the ground|
|Cam_ImagesSent|2 (0x2)|U32|Number of images sent for downlink|
|Cam_BytesSent|3 (0x3)|U32|Number of bytes sent for downlink|
|Cam_LatestCallbackId|4 (0x4)|U16|The latest callback ID that triggerd an image to be taken|

## Event List

|Event Name|ID|Description|Arg Name|Arg Type|Arg Size|Description
|---|---|---|---|---|---|---|
|Camera_FailedToTakeImage|0 (0x0)|A basic notification that, for some reason, the camera failed to capture an image. Try again.| | | | |
